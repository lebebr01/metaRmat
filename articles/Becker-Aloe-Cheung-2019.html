<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example Chapter Becker Aloe Cheung â€¢ metaRmat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Example Chapter Becker Aloe Cheung">
<meta property="og:description" content="metaRmat">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metaRmat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Becker-Aloe-Cheung-2019.html">Example Chapter Becker Aloe Cheung</a>
    </li>
    <li>
      <a href="../articles/intro.html">Introduction to metaRmat</a>
    </li>
    <li>
      <a href="../articles/optimization.html">Optimization with metaRmat</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Becker-Aloe-Cheung-2019_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example Chapter Becker Aloe Cheung</h1>
                        <h4 data-toc-skip class="author">Becker Aloe Cheung</h4>
            
            <h4 data-toc-skip class="date">2021-03-05</h4>
      
      
      <div class="hidden name"><code>Becker-Aloe-Cheung-2019.Rmd</code></div>

    </div>

    
    
<p>We load the necessary packages as well as the data set for the example. Because for this example we are using only complete data we remove the the two studies with <code>NA</code> (i.e., Study 6 and Study 17).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">metaRmat</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.metafor-project.org" class="external-link">metafor</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://strimmerlab.org/software/corpcor/" class="external-link">corpcor</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://Matrix.R-forge.R-project.org/" class="external-link">Matrix</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">matrixcalc</span><span class="op">)</span>

<span class="va">becker09</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">becker09</span><span class="op">)</span> <span class="co"># ommiting studies with NA</span></code></pre></div>
<p>Next, we create a list, which will be imputed in our other functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">becker09_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/df_to_corr.html">df_to_corr</a></span><span class="op">(</span><span class="va">becker09</span>, 
                            variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                          <span class="st">'Somatic_Performance'</span>,
                                          <span class="st">'Selfconfidence_Performance'</span>, 
                                          <span class="st">'Somatic_Cognitive'</span>,
                                          <span class="st">'Selfconfidence_Cognitive'</span>,
                                          <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span>,
                            ID <span class="op">=</span> <span class="st">'ID'</span><span class="op">)</span></code></pre></div>
<div id="calculate-os" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-os" class="anchor"></a>Calculate OS</h2>
<p>There are currently three options for the variance-covariance matrix of the correlation matrix (i.e, simple, average, and weighted) for this example we selected the weighted option.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#olkin_siotani(becker09_list, becker09$N, type = 'simple')</span>
<span class="co">#olkin_siotani(becker09_list, becker09$N, type = 'average')</span>
<span class="fu"><a href="../reference/olkin_siotani.html">olkin_siotani</a></span><span class="op">(</span><span class="va">becker09_list</span>, <span class="va">becker09</span><span class="op">$</span><span class="va">N</span>, type <span class="op">=</span> <span class="st">'weighted'</span><span class="op">)</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt;               [,1]          [,2]          [,3]          [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.0068964508  0.0034592598 -0.0024249951 -0.0007709388  0.0019806619</span>
<span class="co">#&gt; [2,]  0.0034592598  0.0066061710 -0.0022932962 -0.0002788858  0.0008637677</span>
<span class="co">#&gt; [3,] -0.0024249951 -0.0022932962  0.0053155444  0.0001634926 -0.0001362802</span>
<span class="co">#&gt; [4,] -0.0007709388 -0.0002788858  0.0001634926  0.0037574849 -0.0013337746</span>
<span class="co">#&gt; [5,]  0.0019806619  0.0008637677 -0.0001362802 -0.0013337746  0.0048166300</span>
<span class="co">#&gt; [6,]  0.0010242015  0.0018602041 -0.0005187913 -0.0013441468  0.0021616446</span>
<span class="co">#&gt;               [,6]</span>
<span class="co">#&gt; [1,]  0.0010242015</span>
<span class="co">#&gt; [2,]  0.0018602041</span>
<span class="co">#&gt; [3,] -0.0005187913</span>
<span class="co">#&gt; [4,] -0.0013441468</span>
<span class="co">#&gt; [5,]  0.0021616446</span>
<span class="co">#&gt; [6,]  0.0048308442</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt;              [,1]         [,2]          [,3]          [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.026467460  0.013276078 -0.0093067379 -0.0029587381  0.0076014592</span>
<span class="co">#&gt; [2,]  0.013276078  0.025353413 -0.0088012989 -0.0010703186  0.0033150004</span>
<span class="co">#&gt; [3,] -0.009306738 -0.008801299  0.0204001974  0.0006274581 -0.0005230214</span>
<span class="co">#&gt; [4,] -0.002958738 -0.001070319  0.0006274581  0.0144206177 -0.0051188104</span>
<span class="co">#&gt; [5,]  0.007601459  0.003315000 -0.0005230214 -0.0051188104  0.0184854450</span>
<span class="co">#&gt; [6,]  0.003930719  0.007139162 -0.0019910370 -0.0051586176  0.0082960414</span>
<span class="co">#&gt;              [,6]</span>
<span class="co">#&gt; [1,]  0.003930719</span>
<span class="co">#&gt; [2,]  0.007139162</span>
<span class="co">#&gt; [3,] -0.001991037</span>
<span class="co">#&gt; [4,] -0.005158618</span>
<span class="co">#&gt; [5,]  0.008296041</span>
<span class="co">#&gt; [6,]  0.018539997</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt;              [,1]         [,2]         [,3]         [,4]         [,5]</span>
<span class="co">#&gt; [1,]  0.069949715  0.035086777 -0.024596379 -0.007819522  0.020089571</span>
<span class="co">#&gt; [2,]  0.035086777  0.067005449 -0.023260576 -0.002828699  0.008761072</span>
<span class="co">#&gt; [3,] -0.024596379 -0.023260576  0.053914807  0.001658282 -0.001382271</span>
<span class="co">#&gt; [4,] -0.007819522 -0.002828699  0.001658282  0.038111633 -0.013528285</span>
<span class="co">#&gt; [5,]  0.020089571  0.008761072 -0.001382271 -0.013528285  0.048854390</span>
<span class="co">#&gt; [6,]  0.010388330  0.018867784 -0.005262026 -0.013633489  0.021925252</span>
<span class="co">#&gt;              [,6]</span>
<span class="co">#&gt; [1,]  0.010388330</span>
<span class="co">#&gt; [2,]  0.018867784</span>
<span class="co">#&gt; [3,] -0.005262026</span>
<span class="co">#&gt; [4,] -0.013633489</span>
<span class="co">#&gt; [5,]  0.021925252</span>
<span class="co">#&gt; [6,]  0.048998563</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt;              [,1]          [,2]          [,3]          [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.009792960  0.0049121488 -0.0034434930 -0.0010947331  0.0028125399</span>
<span class="co">#&gt; [2,]  0.004912149  0.0093807628 -0.0032564806 -0.0003960179  0.0012265501</span>
<span class="co">#&gt; [3,] -0.003443493 -0.0032564806  0.0075480730  0.0002321595 -0.0001935179</span>
<span class="co">#&gt; [4,] -0.001094733 -0.0003960179  0.0002321595  0.0053356286 -0.0018939599</span>
<span class="co">#&gt; [5,]  0.002812540  0.0012265501 -0.0001935179 -0.0018939599  0.0068396147</span>
<span class="co">#&gt; [6,]  0.001454366  0.0026414898 -0.0007366837 -0.0019086885  0.0030695353</span>
<span class="co">#&gt;               [,6]</span>
<span class="co">#&gt; [1,]  0.0014543662</span>
<span class="co">#&gt; [2,]  0.0026414898</span>
<span class="co">#&gt; [3,] -0.0007366837</span>
<span class="co">#&gt; [4,] -0.0019086885</span>
<span class="co">#&gt; [5,]  0.0030695353</span>
<span class="co">#&gt; [6,]  0.0068597988</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt;              [,1]          [,2]          [,3]          [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.019201883  0.0096316644 -0.0067519471 -0.0021465355  0.0055147841</span>
<span class="co">#&gt; [2,]  0.009631664  0.0183936526 -0.0063852560 -0.0007765056  0.0024050003</span>
<span class="co">#&gt; [3,] -0.006751947 -0.0063852560  0.0148001432  0.0004552147 -0.0003794469</span>
<span class="co">#&gt; [4,] -0.002146536 -0.0007765056  0.0004552147  0.0104620168 -0.0037136468</span>
<span class="co">#&gt; [5,]  0.005514784  0.0024050003 -0.0003794469 -0.0037136468  0.0134110091</span>
<span class="co">#&gt; [6,]  0.002851698  0.0051793917 -0.0014444778 -0.0037425265  0.0060186967</span>
<span class="co">#&gt;              [,6]</span>
<span class="co">#&gt; [1,]  0.002851698</span>
<span class="co">#&gt; [2,]  0.005179392</span>
<span class="co">#&gt; [3,] -0.001444478</span>
<span class="co">#&gt; [4,] -0.003742526</span>
<span class="co">#&gt; [5,]  0.006018697</span>
<span class="co">#&gt; [6,]  0.013450586</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[6]]</span>
<span class="co">#&gt;               [,1]          [,2]          [,3]          [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.0076507501  0.0038376163 -0.0026902289 -0.0008552602  0.0021972968</span>
<span class="co">#&gt; [2,]  0.0038376163  0.0073287209 -0.0025441255 -0.0003093890  0.0009582423</span>
<span class="co">#&gt; [3,] -0.0026902289 -0.0025441255  0.0058969321  0.0001813746 -0.0001511859</span>
<span class="co">#&gt; [4,] -0.0008552602 -0.0003093890  0.0001813746  0.0041684598 -0.0014796561</span>
<span class="co">#&gt; [5,]  0.0021972968  0.0009582423 -0.0001511859 -0.0014796561  0.0053434489</span>
<span class="co">#&gt; [6,]  0.0011362236  0.0020636639 -0.0005755341 -0.0014911629  0.0023980745</span>
<span class="co">#&gt;               [,6]</span>
<span class="co">#&gt; [1,]  0.0011362236</span>
<span class="co">#&gt; [2,]  0.0020636639</span>
<span class="co">#&gt; [3,] -0.0005755341</span>
<span class="co">#&gt; [4,] -0.0014911629</span>
<span class="co">#&gt; [5,]  0.0023980745</span>
<span class="co">#&gt; [6,]  0.0053592178</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[7]]</span>
<span class="co">#&gt;              [,1]          [,2]          [,3]          [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.013989943  0.0070173555 -0.0049192757 -0.0015639044  0.0040179142</span>
<span class="co">#&gt; [2,]  0.007017355  0.0134010897 -0.0046521151 -0.0005657398  0.0017522145</span>
<span class="co">#&gt; [3,] -0.004919276 -0.0046521151  0.0107829615  0.0003316564 -0.0002764542</span>
<span class="co">#&gt; [4,] -0.001563904 -0.0005657398  0.0003316564  0.0076223265 -0.0027056569</span>
<span class="co">#&gt; [5,]  0.004017914  0.0017522145 -0.0002764542 -0.0027056569  0.0097708781</span>
<span class="co">#&gt; [6,]  0.002077666  0.0037735568 -0.0010524053 -0.0027266979  0.0043850504</span>
<span class="co">#&gt;              [,6]</span>
<span class="co">#&gt; [1,]  0.002077666</span>
<span class="co">#&gt; [2,]  0.003773557</span>
<span class="co">#&gt; [3,] -0.001052405</span>
<span class="co">#&gt; [4,] -0.002726698</span>
<span class="co">#&gt; [5,]  0.004385050</span>
<span class="co">#&gt; [6,]  0.009799713</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[8]]</span>
<span class="co">#&gt;              [,1]         [,2]          [,3]         [,4]          [,5]</span>
<span class="co">#&gt; [1,]  0.032643200  0.016373829 -0.0114783100 -0.003649110  0.0093751330</span>
<span class="co">#&gt; [2,]  0.016373829  0.031269209 -0.0108549353 -0.001320060  0.0040885004</span>
<span class="co">#&gt; [3,] -0.011478310 -0.010854935  0.0251602435  0.000773865 -0.0006450598</span>
<span class="co">#&gt; [4,] -0.003649110 -0.001320060  0.0007738650  0.017785429 -0.0063131995</span>
<span class="co">#&gt; [5,]  0.009375133  0.004088500 -0.0006450598 -0.006313200  0.0227987155</span>
<span class="co">#&gt; [6,]  0.004847887  0.008804966 -0.0024556123 -0.006362295  0.0102317844</span>
<span class="co">#&gt;              [,6]</span>
<span class="co">#&gt; [1,]  0.004847887</span>
<span class="co">#&gt; [2,]  0.008804966</span>
<span class="co">#&gt; [3,] -0.002455612</span>
<span class="co">#&gt; [4,] -0.006362295</span>
<span class="co">#&gt; [5,]  0.010231784</span>
<span class="co">#&gt; [6,]  0.022865996</span></code></pre></div>
</div>
<div id="master-prep-data-function" class="section level1">
<h1 class="hasAnchor">
<a href="#master-prep-data-function" class="anchor"></a>Master Prep Data Function</h1>
<p>The function below creates and organize elements that are then fitted internally into the <code>metafor</code> package. Below we fitted fixed and random-effects models and extracted some more detail information from objects that are not directly output by the functions. First, we see results under fixed-effect models.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">input_metafor</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_data.html">prep_data</a></span><span class="op">(</span><span class="va">becker09</span>, <span class="va">becker09</span><span class="op">$</span><span class="va">N</span>, type <span class="op">=</span> <span class="st">'weighted'</span>, missing <span class="op">=</span> <span class="cn">FALSE</span>, 
                           variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>, <span class="st">'Somatic_Performance'</span>,
                                              <span class="st">'Selfconfidence_Performance'</span>, 
                                              <span class="st">'Somatic_Cognitive'</span>,
                                              <span class="st">'Selfconfidence_Cognitive'</span>,
                                              <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span>,
                           ID <span class="op">=</span> <span class="st">'ID'</span><span class="op">)</span>
<span class="va">fixed_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_model.html">fit_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">input_metafor</span>, effect_size <span class="op">=</span> <span class="st">'yi'</span>, 
                         var_cor <span class="op">=</span> <span class="st">'V'</span>, moderators <span class="op">=</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>, 
                         random_params <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="co">#&gt; Warning: Model does not contain an '~ inner | outer' term, so 'struct' argument</span>
<span class="co">#&gt; is disregaded.</span>
<span class="co"># below the model_out_fixed will extract some of the info but I am also extracting some here</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">fixed_model</span><span class="op">$</span><span class="va">b</span>, <span class="fl">3</span><span class="op">)</span> <span class="co"># fixed effect estimates</span>
<span class="co">#&gt;                    [,1]</span>
<span class="co">#&gt; factor(outcome)1 -0.102</span>
<span class="co">#&gt; factor(outcome)2 -0.177</span>
<span class="co">#&gt; factor(outcome)3  0.362</span>
<span class="co">#&gt; factor(outcome)4  0.519</span>
<span class="co">#&gt; factor(outcome)5 -0.416</span>
<span class="co">#&gt; factor(outcome)6 -0.414</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">fixed_model</span><span class="op">$</span><span class="va">vb</span>, <span class="fl">5</span><span class="op">)</span> <span class="co"># fixed effect COV</span>
<span class="co">#&gt;                  factor(outcome)1 factor(outcome)2 factor(outcome)3</span>
<span class="co">#&gt; factor(outcome)1          0.00171          0.00086         -0.00060</span>
<span class="co">#&gt; factor(outcome)2          0.00086          0.00164         -0.00057</span>
<span class="co">#&gt; factor(outcome)3         -0.00060         -0.00057          0.00132</span>
<span class="co">#&gt; factor(outcome)4         -0.00019         -0.00007          0.00004</span>
<span class="co">#&gt; factor(outcome)5          0.00049          0.00021         -0.00003</span>
<span class="co">#&gt; factor(outcome)6          0.00025          0.00046         -0.00013</span>
<span class="co">#&gt;                  factor(outcome)4 factor(outcome)5 factor(outcome)6</span>
<span class="co">#&gt; factor(outcome)1         -0.00019          0.00049          0.00025</span>
<span class="co">#&gt; factor(outcome)2         -0.00007          0.00021          0.00046</span>
<span class="co">#&gt; factor(outcome)3          0.00004         -0.00003         -0.00013</span>
<span class="co">#&gt; factor(outcome)4          0.00093         -0.00033         -0.00033</span>
<span class="co">#&gt; factor(outcome)5         -0.00033          0.00120          0.00054</span>
<span class="co">#&gt; factor(outcome)6         -0.00033          0.00054          0.00120</span>
<span class="va">fixed_model</span> <span class="co"># forthe Q and df </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Multivariate Meta-Analysis Model (k = 48; method: REML)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variance Components: none</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Test for Residual Heterogeneity:</span>
<span class="co">#&gt; QE(df = 42) = 176.6654, p-val &lt; .0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Test of Moderators (coefficients 1:6):</span>
<span class="co">#&gt; QM(df = 6) = 485.0641, p-val &lt; .0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Model Results:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                   estimate      se      zval    pval    ci.lb    ci.ub </span>
<span class="co">#&gt; factor(outcome)1   -0.1020  0.0414   -2.4654  0.0137  -0.1831  -0.0209    * </span>
<span class="co">#&gt; factor(outcome)2   -0.1774  0.0405   -4.3796  &lt;.0001  -0.2567  -0.0980  *** </span>
<span class="co">#&gt; factor(outcome)3    0.3622  0.0363    9.9713  &lt;.0001   0.2910   0.4334  *** </span>
<span class="co">#&gt; factor(outcome)4    0.5192  0.0305   16.9989  &lt;.0001   0.4593   0.5790  *** </span>
<span class="co">#&gt; factor(outcome)5   -0.4159  0.0346  -12.0276  &lt;.0001  -0.4837  -0.3481  *** </span>
<span class="co">#&gt; factor(outcome)6   -0.4144  0.0346  -11.9675  &lt;.0001  -0.4823  -0.3466  *** </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></code></pre></div>
<p>Now we fit a random-effects model and extract some objects from this output.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">random_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_model.html">fit_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">input_metafor</span>, effect_size <span class="op">=</span> <span class="st">'yi'</span>, 
                          var_cor <span class="op">=</span> <span class="st">'V'</span>, moderators <span class="op">=</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>, 
                          random_params <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span><span class="op">)</span>
<span class="co"># below the model_out_random will extract some of the info but I am also extracting some here</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">random_model</span><span class="op">$</span><span class="va">tau2</span>, <span class="fl">3</span><span class="op">)</span> <span class="co"># between studies variance </span>
<span class="co">#&gt; [1] 0.132 0.044 0.042 0.001 0.006 0.004</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">random_model</span><span class="op">$</span><span class="va">b</span>, <span class="fl">3</span><span class="op">)</span> <span class="co"># random effect estimate</span>
<span class="co">#&gt;                    [,1]</span>
<span class="co">#&gt; factor(outcome)1 -0.098</span>
<span class="co">#&gt; factor(outcome)2 -0.176</span>
<span class="co">#&gt; factor(outcome)3  0.319</span>
<span class="co">#&gt; factor(outcome)4  0.527</span>
<span class="co">#&gt; factor(outcome)5 -0.418</span>
<span class="co">#&gt; factor(outcome)6 -0.401</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">random_model</span><span class="op">$</span><span class="va">vb</span>, <span class="fl">5</span><span class="op">)</span> <span class="co"># random effect Cov</span>
<span class="co">#&gt;                  factor(outcome)1 factor(outcome)2 factor(outcome)3</span>
<span class="co">#&gt; factor(outcome)1          0.01898          0.01084         -0.00476</span>
<span class="co">#&gt; factor(outcome)2          0.01084          0.00743         -0.00282</span>
<span class="co">#&gt; factor(outcome)3         -0.00476         -0.00282          0.00707</span>
<span class="co">#&gt; factor(outcome)4          0.00022          0.00014         -0.00095</span>
<span class="co">#&gt; factor(outcome)5         -0.00184         -0.00104          0.00123</span>
<span class="co">#&gt; factor(outcome)6          0.00056          0.00058         -0.00180</span>
<span class="co">#&gt;                  factor(outcome)4 factor(outcome)5 factor(outcome)6</span>
<span class="co">#&gt; factor(outcome)1          0.00022         -0.00184          0.00056</span>
<span class="co">#&gt; factor(outcome)2          0.00014         -0.00104          0.00058</span>
<span class="co">#&gt; factor(outcome)3         -0.00095          0.00123         -0.00180</span>
<span class="co">#&gt; factor(outcome)4          0.00111         -0.00053         -0.00002</span>
<span class="co">#&gt; factor(outcome)5         -0.00053          0.00211          0.00020</span>
<span class="co">#&gt; factor(outcome)6         -0.00002          0.00020          0.00175</span></code></pre></div>
</div>
<div id="extract-model-data" class="section level1">
<h1 class="hasAnchor">
<a href="#extract-model-data" class="anchor"></a>Extract model data</h1>
<p>These are the results under random effect models. This is what the typical output for the mode <code>extract_model</code>function for fixed-effect model looks like.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_out_fixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_model.html">extract_model</a></span><span class="op">(</span><span class="va">fixed_model</span>, 
                                 variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                                    <span class="st">'Somatic_Performance'</span>,
                                                    <span class="st">'Selfconfidence_Performance'</span>, 
                                                    <span class="st">'Somatic_Cognitive'</span>,
                                                    <span class="st">'Selfconfidence_Cognitive'</span>,
                                                    <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span><span class="op">)</span>
<span class="va">model_out_fixed</span> 
<span class="co">#&gt; $beta_matrix</span>
<span class="co">#&gt;                Performance  Cognitive    Somatic Selfconfidence</span>
<span class="co">#&gt; Performance      1.0000000 -0.1020105 -0.1773601      0.3622203</span>
<span class="co">#&gt; Cognitive       -0.1020105  1.0000000  0.5191783     -0.4159091</span>
<span class="co">#&gt; Somatic         -0.1773601  0.5191783  1.0000000     -0.4144406</span>
<span class="co">#&gt; Selfconfidence   0.3622203 -0.4159091 -0.4144406      1.0000000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $var_matrix</span>
<span class="co">#&gt;                  factor(outcome)1 factor(outcome)2 factor(outcome)3</span>
<span class="co">#&gt; factor(outcome)1     0.0017120560     8.587673e-04    -6.020093e-04</span>
<span class="co">#&gt; factor(outcome)2     0.0008587673     1.639993e-03    -5.693148e-04</span>
<span class="co">#&gt; factor(outcome)3    -0.0006020093    -5.693148e-04     1.319593e-03</span>
<span class="co">#&gt; factor(outcome)4    -0.0001913869    -6.923389e-05     4.058732e-05</span>
<span class="co">#&gt; factor(outcome)5     0.0004917028     2.144318e-04    -3.383181e-05</span>
<span class="co">#&gt; factor(outcome)6     0.0002542598     4.617989e-04    -1.287909e-04</span>
<span class="co">#&gt;                  factor(outcome)4 factor(outcome)5 factor(outcome)6</span>
<span class="co">#&gt; factor(outcome)1    -1.913869e-04     4.917028e-04     0.0002542598</span>
<span class="co">#&gt; factor(outcome)2    -6.923389e-05     2.144318e-04     0.0004617989</span>
<span class="co">#&gt; factor(outcome)3     4.058732e-05    -3.383181e-05    -0.0001287909</span>
<span class="co">#&gt; factor(outcome)4     9.328022e-04    -3.311119e-04    -0.0003336868</span>
<span class="co">#&gt; factor(outcome)5    -3.311119e-04     1.195737e-03     0.0005366320</span>
<span class="co">#&gt; factor(outcome)6    -3.336868e-04     5.366320e-04     0.0011992655</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $tau</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $rho</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>For the random-effect, we extract several more objects from the <code>extract_model</code>function. We can also build a correlation matrix of the <span class="math inline">\(\hat{\tau}^2\)</span> as well.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_out_random</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_model.html">extract_model</a></span><span class="op">(</span><span class="va">random_model</span>, 
                                  variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                                     <span class="st">'Somatic_Performance'</span>,
                                                     <span class="st">'Selfconfidence_Performance'</span>, 
                                                     <span class="st">'Somatic_Cognitive'</span>,
                                                     <span class="st">'Selfconfidence_Cognitive'</span>,
                                                     <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span><span class="op">)</span>
<span class="va">Rho</span> <span class="op">&lt;-</span> <span class="va">model_out_random</span><span class="op">$</span><span class="va">rho</span> 
<span class="va">Tau2</span> <span class="op">&lt;-</span> <span class="va">model_out_random</span><span class="op">$</span><span class="va">tau</span>
<span class="co">#------------------</span>
<span class="co"># tau matrix</span>
<span class="co">#------------------</span>
<span class="va">rho_t</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/pkg/corpcor/man/smtools.html" class="external-link">vec2sm</a></span><span class="op">(</span><span class="va">Rho</span>, diag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">diag</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">rho_t</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">diag</span>
<span class="va">tdiag</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">Tau2</span><span class="op">)</span><span class="op">)</span>
<span class="va">taumat</span> <span class="op">&lt;-</span> <span class="va">tdiag</span> <span class="op">%*%</span> <span class="va">rho_t</span> <span class="op">%*%</span> <span class="va">tdiag</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">taumat</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;        [,1]   [,2]   [,3]   [,4]   [,5]   [,6]</span>
<span class="co">#&gt; [1,]  0.132  0.076 -0.031 -0.005  0.007  0.005</span>
<span class="co">#&gt; [2,]  0.076  0.044 -0.042 -0.005 -0.010  0.008</span>
<span class="co">#&gt; [3,] -0.031 -0.042  0.042 -0.004  0.002  0.001</span>
<span class="co">#&gt; [4,] -0.005 -0.005 -0.004  0.001 -0.003  0.002</span>
<span class="co">#&gt; [5,]  0.007 -0.010  0.002 -0.003  0.006 -0.002</span>
<span class="co">#&gt; [6,]  0.005  0.008  0.001  0.002 -0.002  0.004</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cov2cor</a></span><span class="op">(</span><span class="va">taumat</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]</span>
<span class="co">#&gt; [1,]  1.00  1.00 -0.42 -0.39  0.23  0.20</span>
<span class="co">#&gt; [2,]  1.00  1.00 -0.98 -0.63 -0.59  0.59</span>
<span class="co">#&gt; [3,] -0.42 -0.98  1.00 -0.52  0.10  0.06</span>
<span class="co">#&gt; [4,] -0.39 -0.63 -0.52  1.00 -0.94  0.99</span>
<span class="co">#&gt; [5,]  0.23 -0.59  0.10 -0.94  1.00 -0.49</span>
<span class="co">#&gt; [6,]  0.20  0.59  0.06  0.99 -0.49  1.00</span></code></pre></div>
</div>
<div id="fit-model-with-lavaan" class="section level1">
<h1 class="hasAnchor">
<a href="#fit-model-with-lavaan" class="anchor"></a>Fit model with lavaan</h1>
<p>Now, we are ready to input the average correlation matrix and its variance covariance matrix into the lavaan package and our own function to appropriate estimate SE via the multivariate delta method.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"## Regression paths
Performance ~ Cognitive + Somatic + Selfconfidence
Selfconfidence ~ Cognitive + Somatic
"</span>

<span class="va">path_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/path_model.html">path_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">model_out_random</span>, model <span class="op">=</span> <span class="va">model</span>, 
                          num_obs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">becker09</span><span class="op">$</span><span class="va">N</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">path_output</span><span class="op">)</span>
<span class="co">#&gt; Average Correlation Matrix: </span>
<span class="co">#&gt;                Performance   Cognitive    Somatic Selfconfidence</span>
<span class="co">#&gt; Performance     1.00000000 -0.09773331 -0.1755029      0.3186775</span>
<span class="co">#&gt; Cognitive      -0.09773331  1.00000000  0.5271873     -0.4175596</span>
<span class="co">#&gt; Somatic        -0.17550292  0.52718732  1.0000000     -0.4006848</span>
<span class="co">#&gt; Selfconfidence  0.31867753 -0.41755963 -0.4006848      1.0000000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  Model Fitted: </span>
<span class="co">#&gt;  ## Regression paths</span>
<span class="co">#&gt; Performance ~ Cognitive + Somatic + Selfconfidence</span>
<span class="co">#&gt; Selfconfidence ~ Cognitive + Somatic</span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Variance Estimates: </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Covariance Estimates: </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Fixed Effects: </span>
<span class="co">#&gt;                                    predictor        outcome    estimate</span>
<span class="co">#&gt; Cognitive -&gt; Performance           Cognitive    Performance  0.08316156</span>
<span class="co">#&gt; Somatic -&gt; Performance               Somatic    Performance -0.09261004</span>
<span class="co">#&gt; Selfconfidence -&gt; Performance Selfconfidence    Performance  0.31629500</span>
<span class="co">#&gt; Cognitive -&gt; Selfconfidence        Cognitive Selfconfidence -0.28573778</span>
<span class="co">#&gt; Somatic -&gt; Selfconfidence            Somatic Selfconfidence -0.25004745</span>
<span class="co">#&gt;                               standard_errors test_statistic      p_value</span>
<span class="co">#&gt; Cognitive -&gt; Performance           0.15426969      0.5390661 5.898413e-01</span>
<span class="co">#&gt; Somatic -&gt; Performance             0.06352263     -1.4579062 1.448664e-01</span>
<span class="co">#&gt; Selfconfidence -&gt; Performance      0.10216547      3.0959091 1.962105e-03</span>
<span class="co">#&gt; Cognitive -&gt; Selfconfidence        0.03848324     -7.4249929 1.127860e-13</span>
<span class="co">#&gt; Somatic -&gt; Selfconfidence          0.05226122     -4.7845698 1.713539e-06</span></code></pre></div>
</div>
<div id="team" class="section level1">
<h1 class="hasAnchor">
<a href="#team" class="anchor"></a>Team</h1>
<p>We now subset the data to obtain results only for the studies that reported on Team sports.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">becker09_T</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">becker09</span>, <span class="va">becker09</span><span class="op">$</span><span class="va">Team</span> <span class="op">==</span> <span class="st">"T"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">becker09_list2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/df_to_corr.html">df_to_corr</a></span><span class="op">(</span><span class="va">becker09_T</span>, 
                             variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                           <span class="st">'Somatic_Performance'</span>,
                                           <span class="st">'Selfconfidence_Performance'</span>, 
                                           <span class="st">'Somatic_Cognitive'</span>,
                                           <span class="st">'Selfconfidence_Cognitive'</span>,
                                           <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span>,
                             ID <span class="op">=</span> <span class="st">'ID'</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">input_metafor2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_data.html">prep_data</a></span><span class="op">(</span><span class="va">becker09_T</span>, <span class="va">becker09_T</span><span class="op">$</span><span class="va">N</span>, type <span class="op">=</span> <span class="st">'weighted'</span>, missing <span class="op">=</span> <span class="cn">FALSE</span>, 
                            variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>, <span class="st">'Somatic_Performance'</span>,
                                               <span class="st">'Selfconfidence_Performance'</span>, 
                                               <span class="st">'Somatic_Cognitive'</span>,
                                               <span class="st">'Selfconfidence_Cognitive'</span>,
                                               <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span>,
                            ID <span class="op">=</span> <span class="st">'ID'</span><span class="op">)</span>

<span class="va">random_model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_model.html">fit_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">input_metafor2</span>, effect_size <span class="op">=</span> <span class="st">'yi'</span>, 
                           var_cor <span class="op">=</span> <span class="st">'V'</span>, moderators <span class="op">=</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>, 
                           random_params <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="extract-model-data-1" class="section level1">
<h1 class="hasAnchor">
<a href="#extract-model-data-1" class="anchor"></a>Extract model data</h1>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_out_random2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_model.html">extract_model</a></span><span class="op">(</span><span class="va">random_model2</span>, 
                                   variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                                      <span class="st">'Somatic_Performance'</span>,
                                                      <span class="st">'Selfconfidence_Performance'</span>, 
                                                      <span class="st">'Somatic_Cognitive'</span>,
                                                      <span class="st">'Selfconfidence_Cognitive'</span>,
                                                      <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="fit-model-with-lavaan-1" class="section level1">
<h1 class="hasAnchor">
<a href="#fit-model-with-lavaan-1" class="anchor"></a>Fit model with lavaan</h1>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"## Regression paths
Performance ~ Cognitive + Somatic + Selfconfidence
Selfconfidence ~ Cognitive + Somatic
"</span>

<span class="va">path_output2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/path_model.html">path_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">model_out_random2</span>, model <span class="op">=</span> <span class="va">model</span>, 
                             num_obs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">becker09_T</span><span class="op">$</span><span class="va">N</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">path_output2</span><span class="op">)</span>
<span class="co">#&gt; Average Correlation Matrix: </span>
<span class="co">#&gt;                Performance  Cognitive    Somatic Selfconfidence</span>
<span class="co">#&gt; Performance      1.0000000 -0.1245062 -0.1852845      0.2328835</span>
<span class="co">#&gt; Cognitive       -0.1245062  1.0000000  0.5825297     -0.3927942</span>
<span class="co">#&gt; Somatic         -0.1852845  0.5825297  1.0000000     -0.3533525</span>
<span class="co">#&gt; Selfconfidence   0.2328835 -0.3927942 -0.3533525      1.0000000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  Model Fitted: </span>
<span class="co">#&gt;  ## Regression paths</span>
<span class="co">#&gt; Performance ~ Cognitive + Somatic + Selfconfidence</span>
<span class="co">#&gt; Selfconfidence ~ Cognitive + Somatic</span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Variance Estimates: </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Covariance Estimates: </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Fixed Effects: </span>
<span class="co">#&gt;                                    predictor        outcome    estimate</span>
<span class="co">#&gt; Cognitive -&gt; Performance           Cognitive    Performance  0.03091857</span>
<span class="co">#&gt; Somatic -&gt; Performance               Somatic    Performance -0.13336598</span>
<span class="co">#&gt; Selfconfidence -&gt; Performance Selfconfidence    Performance  0.19790297</span>
<span class="co">#&gt; Cognitive -&gt; Selfconfidence        Cognitive Selfconfidence -0.28298386</span>
<span class="co">#&gt; Somatic -&gt; Selfconfidence            Somatic Selfconfidence -0.18850603</span>
<span class="co">#&gt;                               standard_errors test_statistic      p_value</span>
<span class="co">#&gt; Cognitive -&gt; Performance           0.25963239       0.119086 9.052073e-01</span>
<span class="co">#&gt; Somatic -&gt; Performance             0.08357853      -1.595697 1.105565e-01</span>
<span class="co">#&gt; Selfconfidence -&gt; Performance      0.16481574       1.200753 2.298471e-01</span>
<span class="co">#&gt; Cognitive -&gt; Selfconfidence        0.06463990      -4.377851 1.198553e-05</span>
<span class="co">#&gt; Somatic -&gt; Selfconfidence          0.12485600      -1.509787 1.310977e-01</span></code></pre></div>
</div>
<div id="individual" class="section level1">
<h1 class="hasAnchor">
<a href="#individual" class="anchor"></a>Individual</h1>
<p>Similarly, we now subset the data to obtain results only for the studies that reported on Individual sports.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">becker09_I</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">becker09</span>, <span class="va">becker09</span><span class="op">$</span><span class="va">Team</span> <span class="op">==</span> <span class="st">"I"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">becker09_list3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/df_to_corr.html">df_to_corr</a></span><span class="op">(</span><span class="va">becker09_I</span>, 
                             variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                           <span class="st">'Somatic_Performance'</span>,
                                           <span class="st">'Selfconfidence_Performance'</span>, 
                                           <span class="st">'Somatic_Cognitive'</span>,
                                           <span class="st">'Selfconfidence_Cognitive'</span>,
                                           <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span>,
                             ID <span class="op">=</span> <span class="st">'ID'</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">input_metafor3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prep_data.html">prep_data</a></span><span class="op">(</span><span class="va">becker09_I</span>, <span class="va">becker09_I</span><span class="op">$</span><span class="va">N</span>, type <span class="op">=</span> <span class="st">'weighted'</span>, missing <span class="op">=</span> <span class="cn">FALSE</span>,
                            variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>, <span class="st">'Somatic_Performance'</span>,
                                               <span class="st">'Selfconfidence_Performance'</span>, 
                                               <span class="st">'Somatic_Cognitive'</span>,
                                               <span class="st">'Selfconfidence_Cognitive'</span>,
                                               <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span>,
                            ID <span class="op">=</span> <span class="st">'ID'</span><span class="op">)</span>

<span class="va">random_model3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_model.html">fit_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">input_metafor3</span>, effect_size <span class="op">=</span> <span class="st">'yi'</span>, 
                           var_cor <span class="op">=</span> <span class="st">'V'</span>, moderators <span class="op">=</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span>, 
                           random_params <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="extract-model-data-2" class="section level1">
<h1 class="hasAnchor">
<a href="#extract-model-data-2" class="anchor"></a>Extract model data</h1>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_out_random3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_model.html">extract_model</a></span><span class="op">(</span><span class="va">random_model3</span>, 
                                   variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Cognitive_Performance'</span>,
                                                      <span class="st">'Somatic_Performance'</span>,
                                                      <span class="st">'Selfconfidence_Performance'</span>, 
                                                      <span class="st">'Somatic_Cognitive'</span>,
                                                      <span class="st">'Selfconfidence_Cognitive'</span>,
                                                      <span class="st">'Selfconfidence_Somatic'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="fit-model-with-lavaan-2" class="section level1">
<h1 class="hasAnchor">
<a href="#fit-model-with-lavaan-2" class="anchor"></a>Fit model with lavaan</h1>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"## Regression paths
Performance ~ Cognitive + Somatic + Selfconfidence
Selfconfidence ~ Cognitive + Somatic"</span>

<span class="va">path_output3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/path_model.html">path_model</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">model_out_random3</span>, model <span class="op">=</span> <span class="va">model</span>, 
                           num_obs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">becker09_I</span><span class="op">$</span><span class="va">N</span><span class="op">)</span><span class="op">)</span>
<span class="fu">lavaan</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="va">path_output3</span><span class="op">)</span>
<span class="co">#&gt; Average Correlation Matrix: </span>
<span class="co">#&gt;                Performance   Cognitive    Somatic Selfconfidence</span>
<span class="co">#&gt; Performance     1.00000000 -0.08366167 -0.1828913      0.3375315</span>
<span class="co">#&gt; Cognitive      -0.08366167  1.00000000  0.4904676     -0.4656700</span>
<span class="co">#&gt; Somatic        -0.18289134  0.49046760  1.0000000     -0.4976074</span>
<span class="co">#&gt; Selfconfidence  0.33753152 -0.46566996 -0.4976074      1.0000000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  Model Fitted: </span>
<span class="co">#&gt;  ## Regression paths</span>
<span class="co">#&gt; Performance ~ Cognitive + Somatic + Selfconfidence</span>
<span class="co">#&gt; Selfconfidence ~ Cognitive + Somatic </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Variance Estimates: </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Covariance Estimates: </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Fixed Effects: </span>
<span class="co">#&gt;                                    predictor        outcome    estimate</span>
<span class="co">#&gt; Cognitive -&gt; Performance           Cognitive    Performance  0.11330418</span>
<span class="co">#&gt; Somatic -&gt; Performance               Somatic    Performance -0.05881317</span>
<span class="co">#&gt; Selfconfidence -&gt; Performance Selfconfidence    Performance  0.36102801</span>
<span class="co">#&gt; Cognitive -&gt; Selfconfidence        Cognitive Selfconfidence -0.29180609</span>
<span class="co">#&gt; Somatic -&gt; Selfconfidence            Somatic Selfconfidence -0.35448594</span>
<span class="co">#&gt;                               standard_errors test_statistic      p_value</span>
<span class="co">#&gt; Cognitive -&gt; Performance           0.23312948      0.4860139 6.269573e-01</span>
<span class="co">#&gt; Somatic -&gt; Performance             0.13567901     -0.4334729 6.646713e-01</span>
<span class="co">#&gt; Selfconfidence -&gt; Performance      0.14685898      2.4583311 1.395844e-02</span>
<span class="co">#&gt; Cognitive -&gt; Selfconfidence        0.06212761     -4.6968827 2.641621e-06</span>
<span class="co">#&gt; Somatic -&gt; Selfconfidence          0.08749570     -4.0514672 5.089747e-05</span></code></pre></div>
</div>
<div id="partial-correlation-matrix" class="section level1">
<h1 class="hasAnchor">
<a href="#partial-correlation-matrix" class="anchor"></a>Partial correlation matrix</h1>
<p>Here we compute the synthetic partial correlation from the average correlation matrix.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># partial corr matrix</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/corpcor/man/cor2pcor.html" class="external-link">cor2pcor</a></span><span class="op">(</span><span class="va">model_out_random</span><span class="op">$</span><span class="va">beta_matrix</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;        [,1]   [,2]   [,3]   [,4]</span>
<span class="co">#&gt; [1,]  1.000  0.072 -0.081  0.284</span>
<span class="co">#&gt; [2,]  0.072  1.000  0.436 -0.274</span>
<span class="co">#&gt; [3,] -0.081  0.436  1.000 -0.201</span>
<span class="co">#&gt; [4,]  0.284 -0.274 -0.201  1.000</span>

<span class="co"># var-cov matrix of partials</span>
<span class="va">Psy</span> <span class="op">&lt;-</span> <span class="va">random_model</span><span class="op">$</span><span class="va">vb</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="../reference/var_path.html">var_path</a></span><span class="op">(</span><span class="va">model_out_random</span><span class="op">$</span><span class="va">beta_matrix</span>, <span class="va">Psy</span>, type <span class="op">=</span> <span class="st">'pcor'</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt;         [,1]    [,2]    [,3]    [,4]    [,5]    [,6]</span>
<span class="co">#&gt; [1,]  0.0174  0.0009  0.0046  0.0005 -0.0073  0.0018</span>
<span class="co">#&gt; [2,]  0.0009  0.0029  0.0030 -0.0006  0.0004 -0.0016</span>
<span class="co">#&gt; [3,]  0.0046  0.0030  0.0078 -0.0013 -0.0002 -0.0022</span>
<span class="co">#&gt; [4,]  0.0005 -0.0006 -0.0013  0.0016 -0.0003  0.0012</span>
<span class="co">#&gt; [5,] -0.0073  0.0004 -0.0002 -0.0003  0.0058 -0.0027</span>
<span class="co">#&gt; [6,]  0.0018 -0.0016 -0.0022  0.0012 -0.0027  0.0035</span></code></pre></div>
</div>
<div id="partial-from-uni-approach" class="section level1">
<h1 class="hasAnchor">
<a href="#partial-from-uni-approach" class="anchor"></a>Partial from uni approach</h1>
<p>Here we work with partial correlation for each study and then synthesize that information.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#---------------------------------------------------------------------</span>
<span class="co"># Create a data set with 8 complete studies</span>
<span class="co">#---------------------------------------------------------------------</span>
<span class="va">R</span> <span class="op">&lt;-</span>  <span class="va">becker09_list</span>
<span class="va">R</span><span class="op">$</span><span class="st">"6"</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="va">R</span><span class="op">$</span><span class="st">"17"</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="va">becker09</span><span class="op">$</span><span class="va">N</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">5</span><span class="op">)</span><span class="op">]</span>
<span class="co">#------------------------------------------------------------------</span>
<span class="co"># first replace NA by zeros</span>
<span class="va">RR</span> <span class="op">&lt;-</span> <span class="va">R</span>                           <span class="co"># redifine list</span>

<span class="va">PR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">RR</span>, <span class="va">cor2pcor</span><span class="op">)</span>
<span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">PR</span>, <span class="st">'[['</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="va">var_pr</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">pr</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">3</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; Warning in (1 - pr^2)^2/(n - 3 - 1): longer object length is not a multiple of</span>
<span class="co">#&gt; shorter object length</span>

<span class="fu"><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma.uni</a></span><span class="op">(</span><span class="va">pr</span>, <span class="va">var_pr</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Random-Effects Model (k = 8; tau^2 estimator: REML)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; tau^2 (estimated amount of total heterogeneity): 0.0661 (SE = 0.0426)</span>
<span class="co">#&gt; tau (square root of estimated tau^2 value):      0.2571</span>
<span class="co">#&gt; I^2 (total heterogeneity / total variability):   89.26%</span>
<span class="co">#&gt; H^2 (total variability / sampling variability):  9.31</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Test for Heterogeneity:</span>
<span class="co">#&gt; Q(df = 7) = 64.1834, p-val &lt; .0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Model Results:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; estimate      se    zval    pval   ci.lb   ci.ub </span>
<span class="co">#&gt;   0.2889  0.1001  2.8872  0.0039  0.0928  0.4850  ** </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Brandon LeBeau, Ariel M. Aloe.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
